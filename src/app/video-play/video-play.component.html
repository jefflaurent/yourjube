<div class="container">
    <div class="left">
        <div class="video-section">
            <div class="video" *ngIf="currVid">
                <mat-video [autoplay]="false" [preload]="false" [fullscreen]="true" [download]="false" color="accent" spinner="spin" 
                    [src]="currVid.videoURL" 
                    [quality]="true" showFrameByFrame="true" id="mainvideo">
                </mat-video>
            </div>
            <div class="video-title">
                <div class="title" *ngIf="currVid">
                    {{ currVid.videoTitle }} 
                </div>
                <div class="views" *ngIf="currVid">
                    {{ currVid.views}} views â€¢ {{ post }}
                </div>
            </div>
            <div class="misc" *ngIf="currVid">
                <div class="like icon" *ngIf="currVid" (click)="initiateLike()">
                    {{ currVid.likes }} <i class="fa fa-thumbs-up fa-lg"></i>
                </div>
                <div class="dislike icon" *ngIf="currVid" (click)="initiateDislike()">
                    {{ currVid.dislikes }} <i class="fa fa-thumbs-down fa-lg"></i>
                </div>
                <div class="share icon">
                    <div class="pls">
                        <i class="fa fa-share"></i>
                    </div>
                    <div>
                        SHARE
                    </div>
                </div>
                <div class="save icon">
                    <div class="pls">
                        <i class="fa fa-list-ul"></i>
                    </div>
                    <div>
                        SAVE
                    </div>
                </div>
                <div class="settings icon">
                    <i class="fa fa-ellipsis-h fa-2x"></i>
                </div>                
            </div>
        </div>
        <hr>
        <div class="desc">
            <div class="desc-top">
                <div class="profile">
                    <div class="avatar" *ngIf="currVid">
                        <a [routerLink]="['/channel', channel.id]">
                            <img [src]="currVid.channelPhotoURL" alt="" width="40px" height="40px">
                        </a>
                    </div>
                    <div class="profile-desc" *ngIf="currVid">
                        <div class="profile-name">
                            <a [routerLink]="['/channel', channel.id]">
                                {{ currVid.channelName }}
                            </a>
                        </div>
                        <div class="profile-subs" *ngIf="channel != null">
                            {{ channel.data.findChannel[0].subscriber }}  subscribers
                        </div>
                    </div>
                </div>
                <div class="sub-container">
                    <div class="sub-button">
                        SUBSCRIBE
                    </div>
                </div>
            </div>
            <div class="desc-bot limited" *ngIf="currVid">
                <br>
                {{ currVid.videoDesc }}
                <div></div>
            </div>
            <div class="controller">
                <div class="controller-txt" id="expandBtn" (click)="expandField()">
                    SHOW MORE
                </div>
                <div class="controller-txt hidden" id="shrinkBtn" (click)="shrinkField()">
                    SHOW LESS
                </div>
                <hr>
            </div>
        </div>
        <div class="comment-box">
            <div class="same-container top-section">
                <div class="qty" *ngIf="comments">
                    {{ comments.length }} Comments
                </div>
                <div class="same-container sort-section">
                    <div style="margin-right: 10px;">
                        <i class="fa fa-sort-amount-desc fa-lg"></i>
                    </div>
                    <div (click)="showSortModal()">
                        SORT BY
                        <div class="sort-container hidden">
                            <div class="sort-modal">
                                <div class="choices" (click)="sortByLikes()">
                                    Top comments
                                </div>
                                <div class="choices" (click)="sortByNewest()">
                                    Newest first
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="same-container">
                <div class="comment-left" *ngIf="currVid">
                    <img [src]="currVid.channelPhotoURL">
                </div>
                <div class="comment-right">
                    <input type="text" placeholder="Add a public comment..." [value]="content" (input)="content = $event.target.value">
                </div>
            </div>
            <div class="click-container">
                <div class="clickables" style="background-color: #f2f2f2; color: rgba(76, 67, 67, 1); font-weight: 500;">
                    CANCEL
                </div>
                <div class="clickables" (click)="addComment()">
                    COMMENT
                </div>
            </div>
        </div>
        <div *ngFor="let comment of showComments, let i = index" class="comment-container">
            <app-comment *ngIf="i < commentLimit" [com]=(comment)></app-comment>
        </div>
        <div class="footer"></div>
    </div>
    <div class="right">
        <div class="header">
            <div class="txt">
                Up next
            </div>
            <div class="autoplay">
                <div style="margin-right: 5px;">
                    AUTOPLAY
                </div>
                <div>
                    <i class="fa fa-toggle-off fa-lg"></i>
                </div>
            </div>
        </div>
        <app-video-side *ngFor="let video of firstVideo" [vid]=(video)></app-video-side>
        <div class="special">
            <hr>
        </div>
        <div *ngFor="let video of passVideos, let i = index" class="side-container">
            <app-video-side *ngIf="i < videoLimit" [vid]=(video)></app-video-side>
        </div>
    </div>
</div>
